const timeStamp=require("console")["timeStamp"],fs=require("fs"),TemplateGenerator=require(__dirname+"/TemplateGenerator");class FileTemplateGenerator{getGenerator(e,t){if(this.inputFileName=e,this.outputFileName=t,this.model=null,fs.existsSync(e))return t=fs.readFileSync(e,"utf-8").split("\n"),this.tg=new TemplateGenerator(t),this.tg}getModel(){return this.model||fs.existsSync(this.inputFileName+".model.js")&&(this.model=require(this.inputFileName+".model")),this.model}setModel(e){this.model=e}process(e,t){e=new(this.getModel())(e,t);this.tg.process(e)}processAll(e,t){this.process(e,t),this.closeGeneration()}closeGeneration(){var e=fs.openSync(this.outputFileName,"w",511),t=this.tg.getOutputStr();fs.writeSync(e,t),fs.closeSync(e)}}module.exports=new FileTemplateGenerator;